scene:
  background: bg_computer
  slides:
    - id: computer_1
      elements:
        - type: text
          content: TERMINAL
          top: 50
          left: 50
          className: heading-text

        # State 1: No Fuse
        - id: system_error
          type: text
          content: |
            ERROR: SYSTEM OFFLINE.
            POWER FUSE REQUIRED.
          top: 300
          left: 500
          width: 900
          className: bubble
          visible_if: "custom.get('has_fuse') == false"

        # State 2: Has Fuse (Unlock Code)
        - id: system_success
          type: group
          visible_if: "custom.get('has_fuse') == true"
          elements:
            - type: text
              content: |
                SYSTEM ONLINE.
                ACCESSING MAINFRAME...
                
                EXIT CODE FOUND: 7-3-9-1
              top: 300
              left: 500
              width: 900
              className: bubble
            
            # Learn Code Action (Auto-run or button?)
            # Since we don't have auto-run on visible, user must click to "Download"
            - type: button
              text: MEMORIZE CODE
              top: 600
              left: 830
              variant: primary
              action:
                - custom_set:knows_code,local,true

        - id: msg_code_learned
          type: text
          content: "Code memorized."
          top: 700
          left: 830
          visible_if: "custom.get('knows_code') == true"
          className: bubble

        - type: button
          text: Back to Room
          top: 800
          left: 830
          variant: primary
          action:
            - goto_scene:room
  assets:
    images:
      bg_computer:
        src: https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=2070&auto=format&fit=crop
