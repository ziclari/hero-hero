scene:
  background: bg_void
  slides:
    - id: intro_1
      elements:
        - type: text
          content: |
            TEMPORAL ANOMALY DETECTED
            Initializing Sequence...
          top: 100
          left: 500
          width: 900
          className: heading-text
        
        # Initialize loop_count if not exists (first run)
        - id: init_loop
          type: text
          visible: false
          visible_if: "custom.get('loop_count') == null"
          action:
            - custom_set:loop_count,local,1
            - custom_set:has_fuse,local,false
            - custom_set:knows_code,local,false

        - type: text
          content: "Loop Cycle: {{ custom.loop_count }}"
          top: 300
          left: 500
          width: 900
          className: bubble

        - type: button
          text: WAKE UP
          top: 800
          left: 830
          variant: primary
          action:
            - goto_scene:room
  assets:
    images:
      bg_void:
        src: https://images.unsplash.com/photo-1462331940025-496dfbfc7564?q=80&w=2022&auto=format&fit=crop
